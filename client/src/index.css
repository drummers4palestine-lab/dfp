@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@300;400;600&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: hsl(0, 0%, 0%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(0, 0%, 15%);
  --muted-foreground: hsl(0, 0%, 65%);
  --popover: hsl(0, 0%, 9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(0, 0%, 9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(0, 0%, 17%);
  --input: hsl(0, 0%, 17%);
  --primary: hsl(0, 0%, 100%);
  --primary-foreground: hsl(0, 0%, 0%);
  --secondary: hsl(0, 0%, 17%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(0, 0%, 17%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62%, 30%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(0, 0%, 100%);
  --radius: 0.5rem;
  
  /* Keffiyeh colors - more black and white focused */
  --keffiyeh-black: hsl(0, 0%, 0%);
  --keffiyeh-white: hsl(0, 0%, 100%);
  --keffiyeh-charcoal: hsl(0, 0%, 18%);
  --keffiyeh-gray: hsl(0, 0%, 26%);
  --keffiyeh-light: hsl(0, 0%, 96%);
  --keffiyeh-red: hsl(0, 0%, 100%);
  --keffiyeh-green: hsl(0, 0%, 100%);
}

.dark {
  --background: hsl(0, 0%, 0%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(0, 0%, 15%);
  --muted-foreground: hsl(0, 0%, 65%);
  --popover: hsl(0, 0%, 9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(0, 0%, 9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(0, 0%, 17%);
  --input: hsl(0, 0%, 17%);
  --primary: hsl(0, 0%, 100%);
  --primary-foreground: hsl(0, 0%, 0%);
  --secondary: hsl(0, 0%, 17%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(0, 0%, 17%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62%, 30%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(0, 0%, 100%);
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased bg-background text-foreground;
    font-family: 'Source Sans Pro', sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Inter', sans-serif;
  }
}

@layer components {
  .keffiyeh-pattern {
    background-image: repeating-linear-gradient(
      45deg,
      transparent,
      transparent 10px,
      rgba(255, 255, 255, 0.03) 10px,
      rgba(255, 255, 255, 0.03) 20px
    );
  }
  
  .street-text {
    font-family: 'Inter', sans-serif;
    font-weight: 600;
    letter-spacing: -0.025em;
  }
  
  .pattern-step {
    @apply w-5 h-5 border border-gray-600 rounded-sm bg-gray-800 transition-all duration-200;
  }
  
  .pattern-step.active {
    @apply bg-red-600 border-red-600;
  }
  
  .pattern-step.current {
    @apply border-green-500 border-2;
  }
  
  .instrument-toggle input:checked + .slider {
    @apply bg-red-600;
  }
  
  .instrument-toggle input:checked + .slider:before {
    transform: translateX(26px);
  }
  
  .slider {
    @apply absolute cursor-pointer top-0 left-0 right-0 bottom-0 bg-gray-600 transition-all duration-300 rounded-full;
  }
  
  .slider:before {
    @apply absolute content-[''] h-4 w-4 left-1 bottom-1 bg-white transition-all duration-300 rounded-full;
  }
}

@layer utilities {
  .grid-cols-16 {
    grid-template-columns: repeat(16, minmax(0, 1fr));
  }
  
  /* Ultra sleek mobile animations */
  .mobile-pattern-grid {
    @apply flex flex-wrap gap-1 justify-center;
  }
  
  .beat-separator {
    @apply w-0.5 h-8 bg-gradient-to-b from-yellow-300 via-yellow-400 to-yellow-500 shadow-lg;
    filter: drop-shadow(0 0 10px rgba(251, 191, 36, 0.5));
  }
  
  .pattern-beat-circle {
    @apply w-5 h-5 sm:w-6 sm:h-6 md:w-8 md:h-8 rounded-full flex items-center justify-center text-xs font-bold transition-all duration-300 transform;
  }
  
  .pattern-beat-circle:hover {
    @apply scale-110;
  }
  
  .pattern-beat-active {
    @apply bg-gradient-to-br from-green-400 to-green-600 text-white shadow-xl;
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.4), 0 4px 15px rgba(0, 0, 0, 0.3);
    animation: pulse-green 2s infinite;
  }
  
  .pattern-beat-current {
    @apply bg-gradient-to-br from-red-500 to-red-700 text-white shadow-xl;
    box-shadow: 0 0 25px rgba(239, 68, 68, 0.6), 0 4px 20px rgba(0, 0, 0, 0.4);
    animation: pulse-red 1s infinite, scale-pulse 0.5s ease-in-out;
  }
  
  .pattern-beat-inactive {
    @apply bg-gradient-to-br from-gray-700 to-gray-800 text-gray-400 border border-gray-600;
  }
  
  /* Beat counter styling */
  .beat-counter {
    @apply text-xs text-yellow-400 font-bold tracking-wider;
    text-shadow: 0 0 8px rgba(251, 191, 36, 0.5);
  }
  
  /* Mobile-optimized card styling */
  .mobile-card {
    @apply bg-gradient-to-br from-gray-800 via-gray-900 to-black border border-gray-700 rounded-xl shadow-2xl;
    backdrop-filter: blur(10px);
  }
  
  /* Navigation mobile enhancements */
  .nav-mobile-button {
    @apply w-full justify-start transform transition-all duration-300 hover:scale-105;
    transition-delay: var(--delay, 0ms);
  }
  
  /* Floating action effects */
  .floating-glow {
    filter: drop-shadow(0 0 20px rgba(59, 130, 246, 0.3));
  }
  
  .floating-glow:hover {
    filter: drop-shadow(0 0 30px rgba(59, 130, 246, 0.5));
  }
}

/* Custom animations */
@keyframes pulse-green {
  0%, 100% { 
    box-shadow: 0 0 20px rgba(34, 197, 94, 0.4), 0 4px 15px rgba(0, 0, 0, 0.3); 
  }
  50% { 
    box-shadow: 0 0 30px rgba(34, 197, 94, 0.7), 0 6px 20px rgba(0, 0, 0, 0.4); 
  }
}

@keyframes pulse-red {
  0%, 100% { 
    box-shadow: 0 0 25px rgba(239, 68, 68, 0.6), 0 4px 20px rgba(0, 0, 0, 0.4); 
  }
  50% { 
    box-shadow: 0 0 40px rgba(239, 68, 68, 0.9), 0 8px 25px rgba(0, 0, 0, 0.5); 
  }
}

@keyframes scale-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1.1); }
}

/* Mobile responsive text scaling */
@media (max-width: 640px) {
  .pattern-beat-circle {
    @apply w-5 h-5 text-xs;
  }
  
  .beat-separator {
    @apply h-6 w-0.5;
  }
  
  .mobile-card {
    @apply mx-2 mb-3;
  }
  
  .beat-counter {
    @apply text-xs;
  }
}
